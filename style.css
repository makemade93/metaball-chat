/* ========================================
   ì „ì—­ ë¦¬ì…‹ ìŠ¤íƒ€ì¼
   - ëª¨ë“  ìš”ì†Œì˜ ê¸°ë³¸ margin, padding ì œê±°
   - box-sizingì„ border-boxë¡œ ì„¤ì •
   ======================================== */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* ========================================
   í˜ì´ì§€ ì „ì²´ ë°°ê²½ ì„¤ì •
   - ë°°ê²½ìƒ‰: íšŒìƒ‰ (#f0f0f0)
   - í™”ë©´ ì¤‘ì•™ì— ë””ë°”ì´ìŠ¤ í”„ë ˆì„ ë°°ì¹˜
   ======================================== */
body {
  /* í°íŠ¸ ì„¤ì • - ì‹œìŠ¤í…œ ê¸°ë³¸ í°íŠ¸ ì‚¬ìš© */
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  
  /* ğŸ¨ ë°°ê²½ìƒ‰ - íšŒìƒ‰ */
  background: #f0f0f0;
  
  /* í™”ë©´ ì „ì²´ í¬ê¸° */
  width: 100vw;
  height: 100vh;
  
  /* ìŠ¤ì¼€ì¼ë§ ì‹œ ìŠ¤í¬ë¡¤ ë°©ì§€ */
  overflow: hidden;
}

/* ========================================
   ë””ë°”ì´ìŠ¤ ì»¨í…Œì´ë„ˆ
   - ë¼ë²¨ + í”„ë ˆì„ì„ ê°ì‹¸ëŠ” ì˜ì—­
   - í™”ë©´ì— ì•ˆ ë§ì„ ê²½ìš° ìë™ ì¶•ì†Œ
   - í•­ìƒ í™”ë©´ ì •ì¤‘ì•™ì— ìœ„ì¹˜
   ======================================== */
.device-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  border: 5px solid black;
  border-radius: 55px;
  
  /* ğŸ¨ í•­ìƒ í™”ë©´ ì •ì¤‘ì•™ì— ìœ„ì¹˜ */
  position: fixed;
  top: 50%;
  left: 50%;
  
  /* ğŸ¨ ë°˜ì‘í˜• ìŠ¤ì¼€ì¼ë§ + ì¤‘ì•™ ì •ë ¬ */
  --scale: 1;
  transform: translate(-50%, -50%) scale(var(--scale));
  transition: transform 0.3s ease;
}

/* =======================================fdz=
   ë””ë°”ì´ìŠ¤ ë¼ë²¨
   - í”„ë ˆì„ ìœ„ì— í‘œì‹œë˜ëŠ” í…ìŠ¤íŠ¸
   ======================================== */
.device-label {
  color: #666;                /* ğŸ¨ ê¸€ì ìƒ‰ìƒ - ìˆ˜ì • ê°€ëŠ¥ */
  font-size: 14px;            /* ğŸ¨ ê¸€ì í¬ê¸° - ìˆ˜ì • ê°€ëŠ¥ */
  margin-bottom: 8px;         /* í”„ë ˆì„ê³¼ì˜ ê°„ê²© */
}

/* ========================================
   ğŸ“± ë””ë°”ì´ìŠ¤ í”„ë ˆì„ (402x874px ê³ ì •)
   - ê²€ì • ë°°ê²½ì˜ ê³ ì • í¬ê¸° í”„ë ˆì„
   ======================================== */
.device-frame {
  /* ğŸ¨ ê³ ì • í¬ê¸° ì„¤ì • (402x874px) */
  width: 402px;
  height: 874px;
  border-radius: 50px !important;
  
  /* ğŸ¨ ë°°ê²½ìƒ‰ - ê²€ì • */
  background: #000000;
  
  /* ë‚´ë¶€ ë ˆì´ì•„ì›ƒ */
  display: flex;
  flex-direction: column;
  align-items: center;
  
  /* ğŸ¨ ì´ˆê¸° ìƒíƒœ - ê°€ìš´ë° ì •ë ¬ì„ ìœ„í•œ padding */
  padding-top: 170px;         /* ìœ„ìª½ ì—¬ë°±ìœ¼ë¡œ ê°€ìš´ë° íš¨ê³¼ - ìˆ˜ì • ê°€ëŠ¥ */
  
  /* í‚¤ë³´ë“œê°€ ë“¤ì–´ì˜¬ ê³µê°„ í™•ë³´ */
  overflow: hidden;
  
  /* ì• ë‹ˆë©”ì´ì…˜ ì „í™˜ */
  transition: padding-top 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

/* í‚¤ë³´ë“œê°€ ì—´ë ¸ì„ ë•Œ - ìœ„ë¡œ ì˜¬ë¼ê° */
.device-frame.keyboard-open {
  padding-top: 0;             /* ìœ„ë¡œ ì´ë™ */
}

/* ========================================
   ì±„íŒ… ì»¨í…Œì´ë„ˆ (ì±„íŒ… UI ì˜ì—­)
   - ë””ë°”ì´ìŠ¤ í”„ë ˆì„ ì•ˆì˜ í°ìƒ‰ ì±„íŒ… ì˜ì—­
   ======================================== */
.chat-container {
  /* ğŸ¨ ë°°ê²½ìƒ‰ - í°ìƒ‰ */
  background: #ffffff;
  
  /* ğŸ¨ ì´ˆê¸° í¬ê¸° ì„¤ì • - ì‘ì€ ìƒíƒœ */
  width: 100%;
  height: 520px;              /* ì´ˆê¸° ë†’ì´ - ìˆ˜ì • ê°€ëŠ¥ */
  flex: none;                 /* flex ë¹„í™œì„±í™” */
  
  /* ìœ„ì¹˜ ë° ë ˆì´ì•„ì›ƒ */
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  
  /* ğŸ¨ ëª¨ì„œë¦¬ ë‘¥ê¸€ê¸° */
  border-radius: 60px;
  
  /* ì• ë‹ˆë©”ì´ì…˜ ì „í™˜ - border-radius ì œì™¸ */
  transition: height 0.4s ease;
}

/* í‚¤ë³´ë“œê°€ ì—´ë ¸ì„ ë•Œ - í™•ì¥ëœ ìƒíƒœ */
.device-frame.keyboard-open .chat-container {
  height: 520px;              /* í‚¤ë³´ë“œ ê³µê°„ í™•ë³´ */
  border-radius: 50px 50px 50px 50px;  /* ìƒë‹¨ ë‘¥ê¸€ê¸° ì œê±° */
}

/* ========================================
   í•˜ë‹¨ í‘¸í„° ì˜ì—­
   - ì‹œë¦¬ì¦ˆ ì •ë³´ ë° ì œì‘ì í‘œì‹œ
   ======================================== */
.footer {
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 25px;
  color: #888;                /* ê¸€ììƒ‰ - ìˆ˜ì • ê°€ëŠ¥ */
  font-size: 12px;            /* ê¸€ì í¬ê¸° - ìˆ˜ì • ê°€ëŠ¥ */
}

/* ========================================
   ê°€ìƒ í‚¤ë³´ë“œ (PCìš©)
   - input focus ì‹œ í‘œì‹œë˜ëŠ” í‚¤ë³´ë“œ ì´ë¯¸ì§€
   - ì•„ë˜ì—ì„œ ìœ„ë¡œ ì˜¬ë¼ì˜¤ëŠ” ì• ë‹ˆë©”ì´ì…˜
   ======================================== */
.virtual-keyboard {
  width: 100%;
  margin-top: auto;           /* ë°”ë‹¥ì— ë¶™ì´ê¸° */
  
  /* ğŸ¨ ì´ˆê¸° ìƒíƒœ - ì•„ë˜ì— ìˆ¨ê²¨ì§„ ìƒíƒœ */
  opacity: 0;
  transform: translateY(100%);  /* ì™„ì „íˆ ì•„ë˜ë¡œ ìˆ¨ê¹€ */
  
  /* ğŸ¨ ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜ - ì»¤ìŠ¤í…€ ì´ì§• */
  transition: 
    opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1),
    transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.virtual-keyboard img {
  width: 100%;
  display: block;
}

/* í‚¤ë³´ë“œê°€ ì—´ë ¸ì„ ë•Œ - ì•„ë˜ì—ì„œ ìœ„ë¡œ ì˜¬ë¼ì˜´ */
.device-frame.keyboard-open .virtual-keyboard {
  opacity: 1;
  transform: translateY(0);   /* ì›ë˜ ìœ„ì¹˜ë¡œ */
}

/* ëª¨ë°”ì¼ì—ì„œëŠ” ê°€ìƒ í‚¤ë³´ë“œ ìˆ¨ê¹€ (ì‹¤ì œ í‚¤ë³´ë“œ ì‚¬ìš©) */
@media screen and (max-width: 480px) {
  .virtual-keyboard {
    display: none;
  }
}

.footer-left {
  display: flex;
  justify-content: left;
  align-items: center;
  gap: 6px;
}

.footer-dot {
  width: 8px;
  height: 8px;
  background: #c8ff00;        /* ì  ìƒ‰ìƒ - ìˆ˜ì • ê°€ëŠ¥ */
  border-radius: 50%;
}

.footer-right {
  display: flex;
  justify-content: right;
  align-items: center;
  gap: 4px;
}

.footer-arrow {
  color: #c8ff00;             /* í™”ì‚´í‘œ ìƒ‰ìƒ - ìˆ˜ì • ê°€ëŠ¥ */
}

.footer-link {
  color: #888;
  text-decoration: underline;
  text-underline-offset: 2px;
}

.footer-link:hover {
  color: #fff;
}

/* ========================================
   ğŸ“± ëª¨ë°”ì¼ í™”ë©´ (ë„ˆë¹„ 480px ì´í•˜)
   - ì²˜ìŒë¶€í„° ìƒë‹¨ ê³ ì •, í™”ë©´ ê°€ë“
   - í‚¤ë³´ë“œ ì˜¬ë¼ì˜¤ë©´ ë†’ì´ë§Œ ì¤„ì–´ë“¦
   ======================================== */
@media screen and (max-width: 480px) {
  html, body {
    background: #000000;
    padding: 0;
    margin: 0;
    overflow: hidden !important;
    height: 100%;
    position: fixed;
    width: 100%;
  }
  
  /* CSS ë³€ìˆ˜ë¡œ viewport ë†’ì´ ê´€ë¦¬ */
  :root {
    --viewport-height: 100vh;
  }
  
  .device-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: var(--viewport-height, 100vh);
    transform: none !important;
    border: none;
    border-radius: 0;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    /* í‚¤ë³´ë“œ ì• ë‹ˆë©”ì´ì…˜ ì†ë„ì™€ ë™ê¸°í™” (iOS ~250ms, Android ~300ms) */
    transition: height 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .device-label {
    display: none;
  }
  
  .device-frame {
    width: 100%;
    flex: 1;
    min-height: 0;
    border-radius: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: stretch;
    overflow: hidden;
  }
  
  .chat-container {
    width: calc(100% - 20px);     /* ì¢Œìš° 10pxì”© ì—¬ë°± */
    flex: 1 1 auto;               /* ë‚¨ì€ ê³µê°„ ì°¨ì§€í•˜ë˜ ì¤„ì–´ë“¤ ìˆ˜ ìˆìŒ */
    min-height: 0;
    max-height: none;
    border-radius: 40px !important;  /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
    margin: 10px;                 /* ìƒí•˜ì¢Œìš° 10px ë§ˆì§„ */
    display: flex;
    flex-direction: column;
    overflow: hidden;
    /* ëœê·¸ëŸ­ê±°ë¦¼ ë°©ì§€ */
    transform: translateZ(0);
    will-change: contents;
  }
  
  /* messages ì˜ì—­ì´ ìœ ì—°í•˜ê²Œ ì¤„ì–´ë“¦ */
  .messages-wrapper {
    flex: 1;
    min-height: 0;
    overflow: hidden;
  }
  
  /* ëª¨ë°”ì¼ì—ì„œ footer ìˆ¨ê¹€ */
  .footer {
    display: none !important;
  }
}

/* ========================================
   ìƒë‹¨ í—¤ë” ì˜ì—­
   - ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ + í”„ë¡œí•„ ë°°ì¹˜
   ======================================== */
.header {
  padding: 21px 31px 0 31px;  /* ë‚´ë¶€ ì—¬ë°± */
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  z-index: 10;
}

/* í—¤ë” ë¹ˆ ê³µê°„ (ê· í˜• ë§ì¶”ê¸°) */
.header-spacer {
  width: 40px;                /* ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ê³¼ ê°™ì€ ë„ˆë¹„ */
}

/* ========================================
   ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ ìŠ¤íƒ€ì¼
   ======================================== */


.refresh-btn {
  width: 40px;
  height: 40px;
  border: none;
  margin-top: 10px;
  padding: 0;
  background: transparent;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(0deg);
  /* ì˜¤ë²„ìŠˆíŠ¸ ëŠë‚Œ ë‚˜ëŠ” ì»¤ìŠ¤í…€ ì´ì§• */
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ í˜¸ë²„ íš¨ê³¼ */
/* hover ì‹œ 90ë„ê¹Œì§€ (cubic-bezierê°€ 93ë„ ì •ë„ê¹Œì§€ ê°”ë‹¤ê°€ 90ìœ¼ë¡œ ë³µê·€ì‹œì¼œì¤Œ) */
.refresh-btn:hover {
  opacity: 0.7;
  transform: rotate(90deg);
}

/* ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ í´ë¦­ íš¨ê³¼ */
.refresh-btn:active {
  transform: scale(0.9);
  transform: rotate(110deg);
}

/* ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ ì•„ì´ì½˜ */
.refresh-btn img {
  width: 36px;
  height: 36px;
}

/* ========================================
   í”„ë¡œí•„ ì˜ì—­
   - ìƒëŒ€ë°© í”„ë¡œí•„ ì´ë¯¸ì§€ì™€ ì´ë¦„ í‘œì‹œ
   ======================================== */
.profile-area {
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 10;
  padding: 10px;
  border-radius: 20px;
}

.profile-area:hover{
  background-color: #F5F5F7;
}

/* í”„ë¡œí•„ ì´ë¯¸ì§€ ë˜í¼ (ì˜¨ë¼ì¸ ìƒíƒœ ì  ìœ„ì¹˜ ê¸°ì¤€) */
.profile-image-wrapper {
  position: relative;
  display: inline-block;
}

/* í”„ë¡œí•„ ì´ë¯¸ì§€ */
.profile-image {
  width: 45px;                /* ğŸ¨ í”„ë¡œí•„ ì´ë¯¸ì§€ í¬ê¸° - ìˆ˜ì • ê°€ëŠ¥ */
  height: 45px;
  object-fit: cover;
  transition: transform 0.6s ease;
}

.profile-image:hover{
  transform: scale(1.1); 
  transition: transform 0.6s ease;
}

/* ì˜¨ë¼ì¸ ìƒíƒœ í‘œì‹œ (ì´ˆë¡ìƒ‰ ì ) */
.online-status {
  position: absolute;
  top: 0.5px;
  right: 0.5px;
  width: 10px;                /* ğŸ¨ ì  í¬ê¸° - ìˆ˜ì • ê°€ëŠ¥ */
  height: 10px;
  background: #4ade80;        /* ğŸ¨ ì˜¨ë¼ì¸ ìƒ‰ìƒ (ì´ˆë¡) - ìˆ˜ì • ê°€ëŠ¥ */
  border-radius: 50%;
}

/* í”„ë¡œí•„ ì´ë¦„ */
.profile-name {
  margin-top: 2px;
  font-size: 15px;            /* ğŸ¨ ê¸€ì í¬ê¸° - ìˆ˜ì • ê°€ëŠ¥ */
  font-weight: 500;
  color: #000;                /* ğŸ¨ ê¸€ì ìƒ‰ìƒ - ìˆ˜ì • ê°€ëŠ¥ */
}

/* ========================================
   ë©”íƒ€ë³¼ SVG ìº”ë²„ìŠ¤
   - ì±„íŒ… ë²„ë¸” ì—°ê²° íš¨ê³¼ë¥¼ ê·¸ë¦¬ëŠ” ì˜ì—­
   ======================================== */
.metaball-svg {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
}

/* ========================================
   ë©”ì‹œì§€ ì˜ì—­ ë˜í¼
   - ìŠ¤í¬ë¡¤ í˜ì´ë“œ íš¨ê³¼ë¥¼ ìœ„í•œ ì»¨í…Œì´ë„ˆ
   ======================================== */
.messages-wrapper {
  flex: 1;
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

/* ========================================
   ë©”ì‹œì§€ ìŠ¤í¬ë¡¤ í˜ì´ë“œ íš¨ê³¼
   - ìƒë‹¨/í•˜ë‹¨ ê²½ê³„ë¥¼ ë¶€ë“œëŸ½ê²Œ ì²˜ë¦¬
   - ìŠ¤í¬ë¡¤ì´ ìˆì„ ë•Œë§Œ í‘œì‹œ
   ======================================== */
.messages-fade {
  position: absolute;
  left: 0;
  right: 0;
  height: 16px;               /* ğŸ¨ í˜ì´ë“œ ë†’ì´ - ìˆ˜ì • ê°€ëŠ¥ */
  pointer-events: none;       /* í´ë¦­ í†µê³¼ */
  z-index: 5;
  opacity: 0;                 /* ê¸°ë³¸: ìˆ¨ê¹€ */
  transition: opacity 0.3s ease;
}

/* ìŠ¤í¬ë¡¤ì´ ìˆì„ ë•Œë§Œ í˜ì´ë“œ í‘œì‹œ */
.messages-wrapper.has-scroll .messages-fade {
  opacity: 1;
}

.messages-fade-top {
  top: 0;
  background: linear-gradient(to bottom, #ffffff 0%, transparent 100%);
}

.messages-fade-bottom {
  bottom: 0;
  background: linear-gradient(to top, #ffffff 0%, transparent 100%);
}

/* ========================================
   ë©”ì‹œì§€ ì˜ì—­
   - ì±„íŒ… ë²„ë¸”ë“¤ì´ í‘œì‹œë˜ëŠ” ìŠ¤í¬ë¡¤ ì˜ì—­
   ======================================== */
.messages {
  flex: 1;
  padding: 0 20px;              /* ë‚´ë¶€ ì—¬ë°± - ìˆ˜ì • ê°€ëŠ¥ */
  overflow-y: auto;
  scrollbar-width: none;      /* Firefox */
  -ms-overflow-style: none;   /* IE/Edge */
  position: relative;
  z-index: 2;
  display: flex;
  flex-direction: column;
  gap: 0px;                   /* ë²„ë¸” ê°„ ê¸°ë³¸ ê°„ê²© - ìˆ˜ì • ê°€ëŠ¥ */
}
.messages::-webkit-scrollbar {
  display: none;
}

/* ========================================
   ì±„íŒ… ë²„ë¸” ê¸°ë³¸ ìŠ¤íƒ€ì¼
   - ëª¨ë“  ë²„ë¸”ì— ê³µí†µ ì ìš©
   ======================================== */
.bubble {
  max-width: 70%;
  padding: 14px 22px;
  border-radius: 30px;
  font-size: 22px;
  line-height: 1.4;
  position: relative;
  z-index: 2;
}

/* ========================================
   ë³´ë‚¸ ë©”ì‹œì§€ (ì˜¤ë¥¸ìª½ ì •ë ¬)
   - í˜•ê´‘ ì—°ë‘ìƒ‰ ë°°ê²½
   - ì´ˆê¸°ì—ëŠ” ëª¨ë“  Rê°’ì´ ìˆìŒ!
   ======================================== */
.bubble.sent {
  align-self: flex-end;
  
  /* ğŸ¨ ë³´ë‚¸ ë©”ì‹œì§€ ìƒ‰ìƒ */
  background: #c8ff00;
  color: #000;
  
  /* ğŸ¨ ì• ë‹ˆë©”ì´ì…˜ ì „í™˜ (Chrome í˜¸í™˜) */
  -webkit-transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* ========================================
   ë°›ì€ ë©”ì‹œì§€ (ì™¼ìª½ ì •ë ¬)
   - ë°ì€ íšŒìƒ‰ ë°°ê²½
   - ì´ˆê¸°ì—ëŠ” ëª¨ë“  Rê°’ì´ ìˆìŒ!
   ======================================== */
.bubble.received {
  align-self: flex-start;
  
  /* ğŸ¨ ë°›ì€ ë©”ì‹œì§€ ìƒ‰ìƒ */
  background: #F5F5F7;
  color: #000;
  
  /* ğŸ¨ ì• ë‹ˆë©”ì´ì…˜ ì „í™˜ (Chrome í˜¸í™˜) */
  -webkit-transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* ========================================
   ì—°ì†ëœ ë²„ë¸” ê°„ê²© (ì´ˆê¸° ìƒíƒœ)
   - í•©ì³ì§€ê¸° ì „ì—ëŠ” ê°„ê²©ì´ ìˆìŒ
   ======================================== */
.bubble.sent + .bubble.sent,
.bubble.received + .bubble.received {
  margin-top: 10px;
}

/* ========================================
   ğŸ¨ ë¦¬í€´ë“œ ë©”íƒ€ë³¼ íš¨ê³¼
   - ë²„ë¸”ì´ í•©ì³ì§ˆ ë•Œì˜ ìŠ¤íƒ€ì¼
   - 1ì´ˆ í›„ ìë™ìœ¼ë¡œ ì ìš©ë¨
   ======================================== */

/* í•©ì³ì§„ ë²„ë¸”ë“¤ - ì™„ì „íˆ ë¶™ìŒ! (ê°„ê²© 0) */
.bubble.merged + .bubble.merged {
  margin-top: 0 !important;
  margin-bottom: 0;
}

/* ========================================
   ë°›ì€ ë©”ì‹œì§€ (received) ë¦¬í€´ë“œ íš¨ê³¼
   - ì™¼ìª½ ë©´ì´ í•©ì³ì§
   ======================================== */

/* ì²« ë²ˆì§¸ ë²„ë¸” - ì¢Œì¸¡ í•˜ë‹¨ radius ì œê±° */
.bubble.received.merged-first {
  border-bottom-left-radius: 0px;
  -webkit-animation: mergeFlashReceived 0.6s ease-out;
  animation: mergeFlashReceived 0.6s ease-out;
}

/* ì¤‘ê°„ ë²„ë¸” - ì¢Œì¸¡ radius ëª¨ë‘ ì œê±° */
.bubble.received.merged-middle {
  border-top-left-radius: 0px;
  border-bottom-left-radius: 0px;
  -webkit-animation: mergeFlashReceived 0.6s ease-out;
  animation: mergeFlashReceived 0.6s ease-out;
}

/* ë§ˆì§€ë§‰ ë²„ë¸” - ì¢Œì¸¡ ìƒë‹¨ radius ì œê±° */
.bubble.received.merged-last {
  border-top-left-radius: 0px;
  margin-bottom: 15px !important;
  -webkit-animation: mergeFlashReceived 0.6s ease-out;
  animation: mergeFlashReceived 0.6s ease-out;
}

/* ========================================
   ë³´ë‚¸ ë©”ì‹œì§€ (sent) ë¦¬í€´ë“œ íš¨ê³¼
   - ì˜¤ë¥¸ìª½ ë©´ì´ í•©ì³ì§
   ======================================== */

/* ì²« ë²ˆì§¸ ë²„ë¸” - ìš°ì¸¡ í•˜ë‹¨ radius ì œê±° */
.bubble.sent.merged-first {
  border-bottom-right-radius: 0px;
  -webkit-animation: mergeFlashSent 0.6s ease-out;
  animation: mergeFlashSent 0.6s ease-out;
}

/* ì¤‘ê°„ ë²„ë¸” - ìš°ì¸¡ radius ëª¨ë‘ ì œê±° */
.bubble.sent.merged-middle {
  border-top-right-radius: 0px;
  border-bottom-right-radius: 0px ;
  -webkit-animation: mergeFlashSent 0.6s ease-out;
  animation: mergeFlashSent 0.6s ease-out;
}

/* ë§ˆì§€ë§‰ ë²„ë¸” - ìš°ì¸¡ ìƒë‹¨ radius ì œê±° */
.bubble.sent.merged-last {
  border-top-right-radius: 0px;
  margin-bottom: 15px !important;
  -webkit-animation: mergeFlashSent 0.6s ease-out;
  animation: mergeFlashSent 0.6s ease-out;
}

/* ========================================
   ğŸ• ì‹œê°„ í‘œì‹œ ìŠ¤íƒ€ì¼
   - ë°›ì€ ë©”ì‹œì§€: ìš°ì¸¡ í•˜ë‹¨
   - ë³´ë‚¸ ë©”ì‹œì§€: ì¢Œì¸¡ í•˜ë‹¨
   ======================================== */
.bubble-time {
  position: absolute;
  bottom: 0;
  font-size: 15px;
  color: #CCCCCC;
  white-space: nowrap;
  opacity: 0;
  animation: fadeInTime 0.3s ease-out 0.3s forwards;
}

@keyframes fadeInTime {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* ë°›ì€ ë©”ì‹œì§€ - ìš°ì¸¡ í•˜ë‹¨ */
.bubble-time.received {
  right: -40px;
}

/* ë³´ë‚¸ ë©”ì‹œì§€ - ì¢Œì¸¡ í•˜ë‹¨ */
.bubble-time.sent {
  left: -40px;
}

/* ========================================
   ğŸ¨ ë°›ì€ ë©”ì‹œì§€ í•©ì³ì§€ëŠ” ì• ë‹ˆë©”ì´ì…˜
   - ë°°ê²½ìƒ‰ ë°˜ì§ + ìŠ¤ì¼€ì¼ ë°”ìš´ìŠ¤
   ======================================== */
@-webkit-keyframes mergeFlashReceived {
  0% {
    -webkit-transform: scale(1);
    transform: scale(1);
    background: #F5F5F7;
  }
  20% {
    -webkit-transform: scale(1.03, 0.97);
    transform: scale(1.03, 0.97);
    background: #ffffff;  /* ë°˜ì§! ë°ì•„ì§ */
  }
  40% {
    -webkit-transform: scale(0.98, 1.02);
    transform: scale(0.98, 1.02);
    background: #e8e8ea;  /* ì‚´ì§ ì–´ë‘ì›Œì§ */
  }
  60% {
    -webkit-transform: scale(1.01, 0.99);
    transform: scale(1.01, 0.99);
    background: #F5F5F7;
  }
  100% {
    -webkit-transform: scale(1);
    transform: scale(1);
    background: #F5F5F7;
  }
}

@keyframes mergeFlashReceived {
  0% {
    transform: scale(1);
    background: #F5F5F7;
  }
  20% {
    transform: scale(1.03, 0.97);
    background: #ffffff;  /* ë°˜ì§! ë°ì•„ì§ */
  }
  40% {
    transform: scale(0.98, 1.02);
    background: #e8e8ea;  /* ì‚´ì§ ì–´ë‘ì›Œì§ */
  }
  60% {
    transform: scale(1.01, 0.99);
    background: #F5F5F7;
  }
  100% {
    transform: scale(1);
    background: #F5F5F7;
  }
}

/* ========================================
   ğŸ¨ ë³´ë‚¸ ë©”ì‹œì§€ í•©ì³ì§€ëŠ” ì• ë‹ˆë©”ì´ì…˜
   - ë°°ê²½ìƒ‰ ë°˜ì§ + ìŠ¤ì¼€ì¼ ë°”ìš´ìŠ¤
   ======================================== */
@-webkit-keyframes mergeFlashSent {
  0% {
    -webkit-transform: scale(1);
    transform: scale(1);
    background: #c8ff00;
  }
  20% {
    -webkit-transform: scale(1.03, 0.97);
    transform: scale(1.03, 0.97);
    background: #e0ff66;  /* ë°˜ì§! ë°ì•„ì§ */
  }
  40% {
    -webkit-transform: scale(0.98, 1.02);
    transform: scale(0.98, 1.02);
    background: #b8e600;  /* ì‚´ì§ ì–´ë‘ì›Œì§ */
  }
  60% {
    -webkit-transform: scale(1.01, 0.99);
    transform: scale(1.01, 0.99);
    background: #c8ff00;
  }
  100% {
    -webkit-transform: scale(1);
    transform: scale(1);
    background: #c8ff00;
  }
}

@keyframes mergeFlashSent {
  0% {
    transform: scale(1);
    background: #c8ff00;
  }
  20% {
    transform: scale(1.03, 0.97);
    background: #e0ff66;  /* ë°˜ì§! ë°ì•„ì§ */
  }
  40% {
    transform: scale(0.98, 1.02);
    background: #b8e600;  /* ì‚´ì§ ì–´ë‘ì›Œì§ */
  }
  60% {
    transform: scale(1.01, 0.99);
    background: #c8ff00;
  }
  100% {
    transform: scale(1);
    background: #c8ff00;
  }
}

/* ========================================
   ì…ë ¥ ì˜ì—­ (í•˜ë‹¨)
   - ì…ë ¥ì°½ê³¼ ë²„íŠ¼ì´ í•˜ë‚˜ì˜ ì»¨í…Œì´ë„ˆ ì•ˆì— ë°°ì¹˜
   ======================================== */
.input-area {
  display: flex;
  align-items: center;
  margin: 10px 30px 30px 30px;
  padding: 12px 12px 12px 2px;   /* ğŸ¨ ë‚´ë¶€ ì—¬ë°± - ìˆ˜ì • ê°€ëŠ¥ */
  z-index: 10;
  border-radius: 50px;
  background: #F5F5F7;            /* ğŸ¨ ì…ë ¥ì°½ ë°°ê²½ìƒ‰ - ìˆ˜ì • ê°€ëŠ¥ */
}

/* ========================================
   í…ìŠ¤íŠ¸ ì…ë ¥ì°½ ìŠ¤íƒ€ì¼
   - ë°°ê²½ íˆ¬ëª…, ì»¨í…Œì´ë„ˆ ë°°ê²½ìƒ‰ ì‚¬ìš©
   ======================================== */
.input-area input {
  flex: 1;
  min-width: 0;
  padding: 15px 10px 15px 24px;   /* ì™¼ìª½ íŒ¨ë”© 24px */
  border: none;
  background: transparent;        /* ë°°ê²½ íˆ¬ëª… */
  color: #000;
  font-size: 22px;                /* ğŸ¨ ê¸€ì í¬ê¸° - ìˆ˜ì • ê°€ëŠ¥ */
  outline: none;
}

/* í”Œë ˆì´ìŠ¤í™€ë” ìŠ¤íƒ€ì¼ */
.input-area input::placeholder {
  color: #999;
}

/* ========================================
   ì „ì†¡ ë²„íŠ¼ ìŠ¤íƒ€ì¼ (+ ì•„ì´ì½˜)
   - ì…ë ¥ í•„ë“œ ì•ˆì— ìœ„ì¹˜
   - í‚¤ë³´ë“œ ì—´ë¦¼/í˜¸ë²„ ì‹œ ì•„ì´ì½˜ ë³€ê²½
   ======================================== */
.input-area button {
  width: 52px;                    /* ğŸ¨ ë²„íŠ¼ í¬ê¸° - ìˆ˜ì • ê°€ëŠ¥ */
  height: 52px;
  min-width: 52px;                /* í¬ê¸° ê³ ì • */
  border: none;
  border-radius: 50%;
  background: transparent;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;             /* ì•„ì´ì½˜ ê²¹ì¹˜ê¸° ìœ„í•´ */
  transition: transform 0.2s, background 0.2s;
}

/* ì•„ì´ì½˜ ê³µí†µ ìŠ¤íƒ€ì¼ */
.input-area button img {
  width: 44px;                    /* ğŸ¨ ì•„ì´ì½˜ í¬ê¸° - ìˆ˜ì • ê°€ëŠ¥ */
  height: 44px;
  position: absolute;             /* ê²¹ì¹˜ê¸° */
  transition: 
    opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1),
    transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* ğŸ¨ Plus ì•„ì´ì½˜ - ì´ˆê¸° ìƒíƒœ (ë³´ì„) */
.input-area button .icon-plus {
  opacity: 1;
  transform: rotate(0deg) scale(1);
}

/* ğŸ¨ Send ì•„ì´ì½˜ - ì´ˆê¸° ìƒíƒœ (ìˆ¨ê¹€) */
.input-area button .icon-send {
  opacity: 0;
  transform: rotate(-90deg) scale(0.5);
}

/* ========================================
   í‚¤ë³´ë“œ ì—´ë¦¼ ì‹œ ì•„ì´ì½˜ ì „í™˜
   ======================================== */
.device-frame.keyboard-open .input-area button .icon-plus {
  opacity: 0;
  transform: rotate(90deg) scale(0.5);
}

.device-frame.keyboard-open .input-area button .icon-send {
  opacity: 1;
  transform: rotate(0deg) scale(1);
}

/* ========================================
   ë²„íŠ¼ í˜¸ë²„ ì‹œ ì•„ì´ì½˜ ì „í™˜
   ======================================== */
.input-area button:hover .icon-plus {
  opacity: 0;
  transform: rotate(90deg) scale(0.5);
}

.input-area button:hover .icon-send {
  opacity: 1;
  transform: rotate(0deg) scale(1);
}

/* ë²„íŠ¼ í˜¸ë²„ íš¨ê³¼ */
.input-area button:hover {
  background: rgba(0, 0, 0, 0.05);
}

/* ë²„íŠ¼ í´ë¦­ íš¨ê³¼ */
.input-area button:active {
  transform: scale(0.95);
}

/* ========================================
   ë©”íƒ€ë³¼ SVG íŒ¨ìŠ¤ ìŠ¤íƒ€ì¼
   ======================================== */
.metaball-path {
  fill: none;
  stroke: none;
}

/* ğŸ¨ ë³´ë‚¸ ë©”ì‹œì§€ ì—°ê²°ë¶€ ìƒ‰ìƒ */
.metaball-path.sent {
  fill: #c8ff00;
}

/* ğŸ¨ ë°›ì€ ë©”ì‹œì§€ ì—°ê²°ë¶€ ìƒ‰ìƒ */
.metaball-path.received {
  fill: #f0f0f0;
}

/* ========================================
   ğŸŒ‰ ë¸Œë¦¿ì§€ íš¨ê³¼ (Bridge Effect)
   - ê¸¸ì´ê°€ ë‹¤ë¥¸ received ë²„ë¸”ì„ ì—°ê²°í•˜ëŠ” íš¨ê³¼
   - ì§§ì€ ë²„ë¸”ì˜ ì˜¤ë¥¸ìª½ì—ì„œ ê¸´ ë²„ë¸” ë°©í–¥ìœ¼ë¡œ ì´ì–´ì§
   ======================================== */

/* ë¸Œë¦¿ì§€ CSS ë³€ìˆ˜ ê¸°ë³¸ê°’ */
.bubble.received.bridge {
  --bridge-size: 0px;
}

/* ë¸Œë¦¿ì§€ ê³µí†µ ìŠ¤íƒ€ì¼ - ì„œì„œíˆ ë‚˜íƒ€ë‚˜ëŠ” íš¨ê³¼ */
.bubble.received.bridge-down::after,
.bubble.received.bridge-up::after {
  opacity: 0;
  transition: opacity 0.4s ease;
}

.bubble.received.bridge-down.bridge-visible::after,
.bubble.received.bridge-up.bridge-visible::after {
  opacity: 1;
}

/* ì•„ë˜ë¡œ í–¥í•˜ëŠ” ë¸Œë¦¿ì§€ (í˜„ì¬ ë²„ë¸”ì´ ë‹¤ìŒ ë²„ë¸”ë³´ë‹¤ ì§§ì„ ë•Œ) */
/* ì§§ì€ ë²„ë¸”ì˜ ì˜¤ë¥¸ìª½ ì•„ë˜ ëª¨ì„œë¦¬ ë°”ê¹¥ì— ìœ„ì¹˜ */
.bubble.received.bridge-down::after {
  content: '';
  position: absolute;
  bottom: 0;
  right: calc(-1 * var(--bridge-size));  /* ë²„ë¸” ì˜¤ë¥¸ìª½ ë°”ê¹¥ìœ¼ë¡œ ì´ë™ */
  width: var(--bridge-size);
  height: var(--bridge-size);
  /* ğŸ”´ í™•ì¸ìš© ë¹¨ê°„ìƒ‰ - ì˜¤ë¥¸ìª½ ìœ„ê°€ ì˜¤ëª©í•œ ê³¡ì„  */
  background: radial-gradient(circle at 100% 0%, transparent var(--bridge-size), #F5F5F7 var(--bridge-size));
  z-index: 1;
}

/* ë¸Œë¦¿ì§€-ë‹¤ìš´ì˜ ì˜¤ë¥¸ìª½ ì•„ë˜ ëª¨ì„œë¦¬ëŠ” 0 */
.bubble.received.bridge-down {
  border-bottom-right-radius: 0 !important;
}

/* ìœ„ë¡œ í–¥í•˜ëŠ” ë¸Œë¦¿ì§€ (í˜„ì¬ ë²„ë¸”ì´ ì´ì „ ë²„ë¸”ë³´ë‹¤ ì§§ì„ ë•Œ) */
/* ì§§ì€ ë²„ë¸”ì˜ ì˜¤ë¥¸ìª½ ìœ„ ëª¨ì„œë¦¬ ë°”ê¹¥ì— ìœ„ì¹˜ */
.bubble.received.bridge-up::after {
  content: '';
  position: absolute;
  top: 0;
  right: calc(-1 * var(--bridge-size));  /* ë²„ë¸” ì˜¤ë¥¸ìª½ ë°”ê¹¥ìœ¼ë¡œ ì´ë™ */
  width: var(--bridge-size);
  height: var(--bridge-size);
  /* ğŸ”´ í™•ì¸ìš© ë¹¨ê°„ìƒ‰ - ì˜¤ë¥¸ìª½ ì•„ë˜ê°€ ì˜¤ëª©í•œ ê³¡ì„  */
  background: radial-gradient(circle at 100% 100%, transparent var(--bridge-size), #F5F5F7 var(--bridge-size));
  z-index: 1;
}

/* ë¸Œë¦¿ì§€-ì—…ì˜ ì˜¤ë¥¸ìª½ ìœ„ ëª¨ì„œë¦¬ëŠ” 0 */
.bubble.received.bridge-up {
  border-top-right-radius: 0 !important;
}
